<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Amazon ECS (EC2 Container Service) #   Amazon ECS is supported, which allows BurmillaOS EC2 instances to join your cluster.
Pre-Requisites #  Prior to launching BurmillaOS EC2 instances, the ECS Container Instance IAM Role will need to have been created. This ecsInstanceRole will need to be used when launching EC2 instances. If you have been using ECS, you created this role if you followed the ECS &ldquo;Get Started&rdquo; interactive guide."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Amazon ECS"><meta property="og:description" content="Amazon ECS (EC2 Container Service) #   Amazon ECS is supported, which allows BurmillaOS EC2 instances to join your cluster.
Pre-Requisites #  Prior to launching BurmillaOS EC2 instances, the ECS Container Instance IAM Role will need to have been created. This ecsInstanceRole will need to be used when launching EC2 instances. If you have been using ECS, you created this role if you followed the ECS &ldquo;Get Started&rdquo; interactive guide."><meta property="og:type" content="article"><meta property="og:url" content="https://burmillaos.org/docs/installation/cloud/amazon-ecs/"><meta property="article:modified_time" content="2024-11-03T00:21:50+03:00"><title>Amazon ECS | BurmillaOS</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.6cd8553a6854f4812343f0f0c8baca31271e686434f381fbe3c7226f66639176.css integrity="sha256-bNhVOmhU9IEjQ/DwyLrKMSceaGQ084H748cib2ZjkXY="><script defer src=/en.search.min.5b67b5953e3b2a171b6b51a22a8ef1216b6eae9a8f77e6e93869f90463a51473.js integrity="sha256-W2e1lT47Khcba1GiKo7xIWturpqPd+bpOGn5BGOlFHM="></script><script defer src=/sw.min.74a8bb07f0bee86d6bb9a2750f073f14d93c7e4512f28860370cfd879e9719b4.js integrity="sha256-dKi7B/C+6G1ruaJ1Dwc/FNk8fkUS8ohgNwz9h56XGbQ="></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><span>BurmillaOS</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/docs/quick-start-guide/>Quick Start Guide</a></li><li><a href=/docs/installation/ class=collapsed>Installation</a><ul><li><a href=/docs/installation/upgrading/>Upgrading</a></li><li><a href=/docs/installation/boot-process/ class=collapsed>Boot Process</a></li><li><a href=/docs/installation/cloud/ class=collapsed>Cloud</a><ul><li><a href=/docs/installation/cloud/aws-ec2/>Amazon EC2</a></li><li><a href=/docs/installation/cloud/amazon-ecs/ class=active>Amazon ECS</a></li><li><a href=/docs/installation/cloud/aliyun/>Aliyun</a></li><li><a href=/docs/installation/cloud/azure/>Azure</a></li><li><a href=/docs/installation/cloud/digital-ocean/>Digital Ocean</a></li><li><a href=/docs/installation/cloud/gce/>Google Compute Engine (GCE)</a></li><li><a href=/docs/installation/cloud/openstack/>OpenStack</a></li><li><a href=/docs/installation/cloud/vmware-esxi/>VMware ESXi</a></li></ul></li><li><a href=/docs/installation/custom-builds/ class=collapsed>Custom Builds</a></li><li><a href=/docs/installation/server/ class=collapsed>Server</a></li><li><a href=/docs/installation/workstation/ class=collapsed>Workstation</a></li></ul></li><li><a href=/docs/configuration/ class=collapsed>Configuration</a></li><li><a href=/docs/networking/ class=collapsed>Networking</a></li><li><a href=/docs/storage/ class=collapsed>Storage</a></li><li><a href=/docs/system-services/ class=collapsed>System Services</a></li><li><a href=/docs/additional-resources/ class=collapsed>Aditional Resources</a></li><li><a href=/docs/faqs/>FAQs</a></li><li><a href=/docs/releases/>Releases</a></li><li><a href=/docs/reference/>Reference</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Amazon ECS</strong>
<label for=toc-control></label></div></header><article class=markdown><h1 id=amazon-ecs-ec2-container-service>Amazon ECS (EC2 Container Service)
<a class=anchor href=#amazon-ecs-ec2-container-service>#</a></h1><p><a href=https://aws.amazon.com/ecs/>Amazon ECS</a> is supported, which allows BurmillaOS EC2 instances to join your cluster.</p><h2 id=pre-requisites>Pre-Requisites
<a class=anchor href=#pre-requisites>#</a></h2><p>Prior to launching BurmillaOS EC2 instances, the
<a href=http://docs.aws.amazon.com/AmazonECS/latest/developerguide/instance_IAM_role.html>ECS Container Instance IAM Role</a> will need to have been created. This <code>ecsInstanceRole</code> will need to be used when launching EC2 instances. If you have been using ECS, you created this role if you followed the ECS &ldquo;Get Started&rdquo; interactive guide.</p><h3 id=launching-an-instance-with-ecs>Launching an instance with ECS
<a class=anchor href=#launching-an-instance-with-ecs>#</a></h3><p>BurmillaOS makes it easy to join your ECS cluster. The ECS agent is a
<a href=/docs/system-services/>system service</a> that is enabled in the ECS enabled AMI. There may be other BurmillaOS AMIs that don&rsquo;t have the ECS agent enabled by default, but it can easily be added in the user data on any BurmillaOS AMI.</p><p>When launching the BurmillaOS AMI, you&rsquo;ll need to specify the <strong>IAM Role</strong> and <strong>Advanced Details</strong> -> <strong>User Data</strong> in the <strong>Configure Instance Details</strong> step.</p><p>For the <strong>IAM Role</strong>, you&rsquo;ll need to be sure to select the ECS Container Instance IAM role.</p><p>For the <strong>User Data</strong>, you&rsquo;ll need to pass in the
<a href=/docs/configuration/base/#cloud-config>cloud-config</a> file.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#75715e>#cloud-config</span>
<span style=color:#f92672>rancher</span>:
  <span style=color:#f92672>environment</span>:
    <span style=color:#f92672>ECS_CLUSTER</span>: <span style=color:#ae81ff>your-ecs-cluster-name</span>
    <span style=color:#75715e># Note: You will need to add this variable, if using awslogs for ECS task.</span>
    <span style=color:#f92672>ECS_AVAILABLE_LOGGING_DRIVERS</span>: |-<span style=color:#e6db74>
</span><span style=color:#e6db74>      </span>      [<span style=color:#e6db74>&#34;json-file&#34;</span>,<span style=color:#e6db74>&#34;awslogs&#34;</span>]
<span style=color:#75715e># If you have selected a BurmillaOS AMI that does not have ECS enabled by default,</span>
<span style=color:#75715e># you&#39;ll need to enable the system service for the ECS agent.</span>
  <span style=color:#f92672>services_include</span>:
    <span style=color:#f92672>amazon-ecs-agent</span>: <span style=color:#66d9ef>true</span>
</code></pre></div><h3 id=version>Version
<a class=anchor href=#version>#</a></h3><p>By default, the ECS agent will be using the <code>latest</code> tag for the <code>amazon-ecs-agent</code> image. In v0.5.0, we introduced the ability to select which version of the <code>amazon-ecs-agent</code>.</p><p>To select the version, you can update your
<a href=/docs/configuration/base/#cloud-config>cloud-config</a> file.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#75715e>#cloud-config</span>
<span style=color:#f92672>rancher</span>:
  <span style=color:#f92672>environment</span>:
    <span style=color:#f92672>ECS_CLUSTER</span>: <span style=color:#ae81ff>your-ecs-cluster-name</span>
    <span style=color:#75715e># Note: You will need to make sure to include the colon in front of the version.</span>
    <span style=color:#f92672>ECS_AGENT_VERSION</span>: :<span style=color:#ae81ff>v2.0.0</span>
    <span style=color:#75715e># If you have selected a BurmillaOS AMI that does not have ECS enabled by default,</span>
    <span style=color:#75715e># you&#39;ll need to enable the system service for the ECS agent.</span>
  <span style=color:#f92672>services_include</span>:
    <span style=color:#f92672>amazon-ecs-agent</span>: <span style=color:#66d9ef>true</span>
</code></pre></div><blockquote><p><strong>Note:</strong> The <code>:</code> must be in front of the version tag in order for the ECS image to be tagged correctly.</p></blockquote></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/burmilla/burmilla.github.io/commit/d1f8103458f8d8797699dad433c52d714e54f731 title="Last modified by Basil Peace | November 2, 2024" target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>November 2, 2024</span></a></div></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div></main></body></html>