<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Additional Mounts #  Additional mounts can be specified as part of your cloud-config. These mounts are applied within the console container. Here&rsquo;s a simple example that mounts /dev/vdb to /mnt/s.
#cloud-config mounts: - [&#34;/dev/vdb&#34;, &#34;/mnt/s&#34;, &#34;ext4&#34;, &#34;&#34;]  Important: Be aware, the 4th parameter is mandatory and cannot be omitted (server crashes). It also yet cannot be defaults
 As you will use the ros cli most probably, it would look like this:"><meta name=theme-color content="#FFFFFF"><meta property="og:title" content><meta property="og:description" content="Additional Mounts #  Additional mounts can be specified as part of your cloud-config. These mounts are applied within the console container. Here&rsquo;s a simple example that mounts /dev/vdb to /mnt/s.
#cloud-config mounts: - [&#34;/dev/vdb&#34;, &#34;/mnt/s&#34;, &#34;ext4&#34;, &#34;&#34;]  Important: Be aware, the 4th parameter is mandatory and cannot be omitted (server crashes). It also yet cannot be defaults
 As you will use the ros cli most probably, it would look like this:"><meta property="og:type" content="article"><meta property="og:url" content="https://burmillaos.org/docs/storage/additional-mounts/"><meta property="article:modified_time" content="2024-11-03T00:21:50+03:00"><title>Additional Mounts | BurmillaOS</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.6cd8553a6854f4812343f0f0c8baca31271e686434f381fbe3c7226f66639176.css integrity="sha256-bNhVOmhU9IEjQ/DwyLrKMSceaGQ084H748cib2ZjkXY="><script defer src=/en.search.min.5b67b5953e3b2a171b6b51a22a8ef1216b6eae9a8f77e6e93869f90463a51473.js integrity="sha256-W2e1lT47Khcba1GiKo7xIWturpqPd+bpOGn5BGOlFHM="></script><script defer src=/sw.min.74a8bb07f0bee86d6bb9a2750f073f14d93c7e4512f28860370cfd879e9719b4.js integrity="sha256-dKi7B/C+6G1ruaJ1Dwc/FNk8fkUS8ohgNwz9h56XGbQ="></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><span>BurmillaOS</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/docs/quick-start-guide/>Quick Start Guide</a></li><li><a href=/docs/installation/ class=collapsed>Installation</a></li><li><a href=/docs/configuration/ class=collapsed>Configuration</a></li><li><a href=/docs/networking/ class=collapsed>Networking</a></li><li><a href=/docs/storage/ class=collapsed>Storage</a><ul><li><a href=/docs/storage/custom-partition-layout/>Custom Partition Layout</a></li><li><a href=/docs/storage/additional-mounts/ class=active>Additional Mounts</a></li><li><a href=/docs/storage/state-partition/>State Partition</a></li><li><a href=/docs/storage/using-zfs/>Using ZFS</a></li></ul></li><li><a href=/docs/system-services/ class=collapsed>System Services</a></li><li><a href=/docs/additional-resources/ class=collapsed>Aditional Resources</a></li><li><a href=/docs/faqs/>FAQs</a></li><li><a href=/docs/releases/>Releases</a></li><li><a href=/docs/reference/>Reference</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Additional Mounts</strong>
<label for=toc-control></label></div></header><article class=markdown><h1 id=additional-mounts>Additional Mounts
<a class=anchor href=#additional-mounts>#</a></h1><p>Additional mounts can be specified as part of your
<a href=/docs/configuration/#cloud-config>cloud-config</a>. These mounts are applied within the console container. Here&rsquo;s a simple example that mounts <code>/dev/vdb</code> to <code>/mnt/s</code>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#75715e>#cloud-config</span>
<span style=color:#f92672>mounts</span>:
- [<span style=color:#e6db74>&#34;/dev/vdb&#34;</span>, <span style=color:#e6db74>&#34;/mnt/s&#34;</span>, <span style=color:#e6db74>&#34;ext4&#34;</span>, <span style=color:#e6db74>&#34;&#34;</span>]
</code></pre></div><blockquote><p><strong>Important:</strong> Be aware, the 4th parameter is mandatory and cannot be omitted (server crashes). It also yet cannot be <code>defaults</code></p></blockquote><p>As you will use the <code>ros</code> cli most probably, it would look like this:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>ros config set mounts <span style=color:#e6db74>&#39;[[&#34;/dev/vdb&#34;,&#34;/mnt/s&#34;,&#34;ext4&#34;,&#34;&#34;]]&#39;</span>
</code></pre></div><blockquote><p><em>Note:</em> You need to pre-format the disks, BurmillaOS will not do this for you. The mount will not work (silently) until you formatted the disk or enabled
<a href=/docs/storage/state-partition/#autoformat>autoformatting</a>.</p></blockquote><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>mkfs.ext4 /dev/vdb
</code></pre></div><p>The four arguments for each mount are the same as those given for
<a href=https://cloudinit.readthedocs.io/en/latest/topics/examples.html#adjust-mount-points-mounted>cloud-init</a>. Only the first four arguments are currently supported. The <code>mount_default_fields</code> key is not yet implemented.</p><p>BurmillaOS uses the mount syscall rather than the <code>mount</code> command behind the scenes. This means that <code>auto</code> cannot be used as the filesystem type (third argument) and <code>defaults</code> cannot be used for the options (forth argument).</p><h2 id=shared-mounts>Shared Mounts
<a class=anchor href=#shared-mounts>#</a></h2><p>By default, <code>/media</code> and <code>/mnt</code> are mounted as shared in the console container. This means that mounts within these directories will propagate to the host as well as other system services that mount these folders as shared.</p><p>See
<a href=https://www.kernel.org/doc/Documentation/filesystems/sharedsubtree.txt>here</a> for a more detailed overview of shared mounts and their properties.</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/burmilla/burmilla.github.io/commit/d1f8103458f8d8797699dad433c52d714e54f731 title="Last modified by Basil Peace | November 2, 2024" target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>November 2, 2024</span></a></div></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div></main></body></html>