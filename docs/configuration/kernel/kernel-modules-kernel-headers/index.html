<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Installing Kernel Modules that require Kernel Headers #  To compile any kernel modules, you will need to download the kernel headers. The kernel headers are available in the form of a system service. Since the kernel headers are a system service, they need to be enabled using the ros service command.
Installing Kernel Headers #  The following commands can be used to install kernel headers for usage by containers in Docker or System Docker."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content><meta property="og:description" content="Installing Kernel Modules that require Kernel Headers #  To compile any kernel modules, you will need to download the kernel headers. The kernel headers are available in the form of a system service. Since the kernel headers are a system service, they need to be enabled using the ros service command.
Installing Kernel Headers #  The following commands can be used to install kernel headers for usage by containers in Docker or System Docker."><meta property="og:type" content="article"><meta property="og:url" content="https://burmillaos.org/docs/configuration/kernel/kernel-modules-kernel-headers/"><meta property="article:modified_time" content="2024-11-03T00:21:50+03:00"><title>Kernel Modules Kernel Headers | BurmillaOS</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.6cd8553a6854f4812343f0f0c8baca31271e686434f381fbe3c7226f66639176.css integrity="sha256-bNhVOmhU9IEjQ/DwyLrKMSceaGQ084H748cib2ZjkXY="><script defer src=/en.search.min.5b67b5953e3b2a171b6b51a22a8ef1216b6eae9a8f77e6e93869f90463a51473.js integrity="sha256-W2e1lT47Khcba1GiKo7xIWturpqPd+bpOGn5BGOlFHM="></script><script defer src=/sw.min.74a8bb07f0bee86d6bb9a2750f073f14d93c7e4512f28860370cfd879e9719b4.js integrity="sha256-dKi7B/C+6G1ruaJ1Dwc/FNk8fkUS8ohgNwz9h56XGbQ="></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><span>BurmillaOS</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/docs/quick-start-guide/>Quick Start Guide</a></li><li><a href=/docs/installation/ class=collapsed>Installation</a></li><li><a href=/docs/configuration/ class=collapsed>Configuration</a><ul><li><a href=/docs/configuration/advanced/ class=collapsed>Advanced</a></li><li><a href=/docs/configuration/base/ class=collapsed>Base</a></li><li><a href=/docs/configuration/docker/ class=collapsed>Docker and System Docker</a></li><li><a href=/docs/configuration/kernel/ class=collapsed>Kernel</a><ul><li><a href=/docs/configuration/kernel/adding-kernel-parameters/>Kernel boot parameters</a></li><li><a href=/docs/configuration/kernel/loading-kernel-modules/>Loading Kernel Modules</a></li><li><a href=/docs/configuration/kernel/kernel-modules-kernel-headers/ class=active>Kernel Modules Kernel Headers</a></li></ul></li></ul></li><li><a href=/docs/networking/ class=collapsed>Networking</a></li><li><a href=/docs/storage/ class=collapsed>Storage</a></li><li><a href=/docs/system-services/ class=collapsed>System Services</a></li><li><a href=/docs/additional-resources/ class=collapsed>Aditional Resources</a></li><li><a href=/docs/faqs/>FAQs</a></li><li><a href=/docs/releases/>Releases</a></li><li><a href=/docs/reference/>Reference</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Kernel Modules Kernel Headers</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#installing-kernel-headers>Installing Kernel Headers</a></li><li><a href=#example-of-launching-containers-to-use-kernel-headers>Example of Launching Containers to use Kernel Headers</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=installing-kernel-modules-that-require-kernel-headers>Installing Kernel Modules that require Kernel Headers
<a class=anchor href=#installing-kernel-modules-that-require-kernel-headers>#</a></h1><p>To compile any kernel modules, you will need to download the kernel headers. The kernel headers are available in the form of a system service. Since the kernel headers are a system service, they need to be enabled using the <code>ros service</code> command.</p><h3 id=installing-kernel-headers>Installing Kernel Headers
<a class=anchor href=#installing-kernel-headers>#</a></h3><p>The following commands can be used to install kernel headers for usage by containers in Docker or System Docker.</p><h4 id=docker>Docker
<a class=anchor href=#docker>#</a></h4><pre><code>$ sudo ros service enable kernel-headers
$ sudo ros service up kernel-headers
</code></pre><h4 id=system-docker>System Docker
<a class=anchor href=#system-docker>#</a></h4><pre><code>$ sudo ros service enable kernel-headers-system-docker
$ sudo ros service up kernel-headers-system-docker
</code></pre><p>The <code>ros service</code> commands will install the kernel headers in <code>/lib/modules/$(uname -r)/build</code>. Based on which service you install, the kernel headers will be available to containers, in Docker or System Docker, by bind mounting specific volumes. For any containers that compile a kernel module, the Docker command will need to bind mount in <code>/usr/src</code> and <code>/lib/modules</code>.</p><blockquote><p><strong>Note:</strong> Since both commands install kernel headers in the same location, the only reason for different services is due to the fact that the storage places for System Docker and Docker are different. Either one or both kernel headers can be installed in the same BurmillaOS services.</p></blockquote><h3 id=example-of-launching-containers-to-use-kernel-headers>Example of Launching Containers to use Kernel Headers
<a class=anchor href=#example-of-launching-containers-to-use-kernel-headers>#</a></h3><pre><code># Run a container in Docker and bind mount specific directories
$ docker run -it -v /usr/src:/usr/src -v /lib/modules:/lib/modules ubuntu:15.10
# Run a container in System Docker and bind mount specific directories
$ sudo system-docker run -it -v /usr/src:/usr/src -v /lib/modules:/lib/modules ubuntu:15.10
</code></pre></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/burmilla/burmilla.github.io/commit/d1f8103458f8d8797699dad433c52d714e54f731 title="Last modified by Basil Peace | November 2, 2024" target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>November 2, 2024</span></a></div></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><ul><li><a href=#installing-kernel-headers>Installing Kernel Headers</a></li><li><a href=#example-of-launching-containers-to-use-kernel-headers>Example of Launching Containers to use Kernel Headers</a></li></ul></li></ul></nav></aside></main></body></html>