<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Configuration #  There are two ways that BurmillaOS can be configured.
 A cloud-config file can be used to provide configuration when first booting BurmillaOS. Manually changing configuration with the ros config command.  Typically, when you first boot the server, you pass in a cloud-config file to configure the initialization of the server. After the first boot, if you have any changes for the configuration, it&rsquo;s recommended that you use ros config to set the necessary configuration properties."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://burmillaos.org/docs/configuration/"><title>Configuration | BurmillaOS</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.6cd8553a6854f4812343f0f0c8baca31271e686434f381fbe3c7226f66639176.css integrity="sha256-bNhVOmhU9IEjQ/DwyLrKMSceaGQ084H748cib2ZjkXY="><script defer src=/en.search.min.5b67b5953e3b2a171b6b51a22a8ef1216b6eae9a8f77e6e93869f90463a51473.js integrity="sha256-W2e1lT47Khcba1GiKo7xIWturpqPd+bpOGn5BGOlFHM="></script><script defer src=/sw.min.74a8bb07f0bee86d6bb9a2750f073f14d93c7e4512f28860370cfd879e9719b4.js integrity="sha256-dKi7B/C+6G1ruaJ1Dwc/FNk8fkUS8ohgNwz9h56XGbQ="></script><link rel=alternate type=application/rss+xml href=https://burmillaos.org/docs/configuration/index.xml title=BurmillaOS></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><span>BurmillaOS</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/docs/quick-start-guide/>Quick Start Guide</a></li><li><a href=/docs/installation/ class=collapsed>Installation</a></li><li><a href=/docs/configuration/ class="collapsed active">Configuration</a><ul><li><a href=/docs/configuration/advanced/ class=collapsed>Advanced</a></li><li><a href=/docs/configuration/base/ class=collapsed>Base</a></li><li><a href=/docs/configuration/docker/ class=collapsed>Docker and System Docker</a></li><li><a href=/docs/configuration/kernel/ class=collapsed>Kernel</a></li></ul></li><li><a href=/docs/networking/ class=collapsed>Networking</a></li><li><a href=/docs/storage/ class=collapsed>Storage</a></li><li><a href=/docs/system-services/ class=collapsed>System Services</a></li><li><a href=/docs/additional-resources/ class=collapsed>Aditional Resources</a></li><li><a href=/docs/faqs/>FAQs</a></li><li><a href=/docs/releases/>Releases</a></li><li><a href=/docs/reference/>Reference</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Configuration</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#cloud-config>Cloud-Config</a></li><li><a href=#manually-changing-configuration>Manually Changing Configuration</a><ul><li><a href=#getting-values>Getting Values</a></li><li><a href=#setting-values>Setting Values</a></li><li><a href=#exporting-the-current-configuration>Exporting the Current Configuration</a></li><li><a href=#validating-a-configuration-file>Validating a Configuration File</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=configuration>Configuration
<a class=anchor href=#configuration>#</a></h1><p>There are two ways that BurmillaOS can be configured.</p><ol><li>A cloud-config file can be used to provide configuration when first booting BurmillaOS.</li><li>Manually changing configuration with the <code>ros config</code> command.</li></ol><p>Typically, when you first boot the server, you pass in a cloud-config file to configure the initialization of the server. After the first boot, if you have any changes for the configuration, it&rsquo;s recommended that you use <code>ros config</code> to set the necessary configuration properties. Any changes will be saved on disk and a reboot will be required for changes to be applied.</p><h2 id=cloud-config>Cloud-Config
<a class=anchor href=#cloud-config>#</a></h2><p>Cloud-config is a declarative configuration file format supported by many Linux distributions and is the primary configuration mechanism for BurmillaOS.</p><p>A Linux OS supporting cloud-config will invoke a cloud-init process during startup to parse the cloud-config file and configure the operating system. BurmillaOS runs its own cloud-init process in a system container. The cloud-init process will attempt to retrieve a cloud-config file from a variety of data sources. Once cloud-init obtains a cloud-config file, it configures the Linux OS according to the content of the cloud-config file.</p><p>When you create a BurmillaOS instance on AWS, for example, you can optionally provide cloud-config passed in the <code>user-data</code> field. Inside the BurmillaOS instance, cloud-init process will retrieve the cloud-config content through its AWS cloud-config data source, which simply extracts the content of user-data received by the VM instance. If the file starts with &ldquo;<code>#cloud-config</code>&rdquo;, cloud-init will interpret that file as a cloud-config file. If the file starts with <code>#!&lt;interpreter></code> (e.g., <code>#!/bin/sh</code>), cloud-init will simply execute that file. You can place any configuration commands in the file as scripts.</p><p>A cloud-config file uses the YAML format. YAML is easy to understand and easy to parse. For more information on YAML, please read more at the
<a href=http://www.yaml.org/start.html>YAML site</a>. The most important formatting principle is indentation or whitespace. This indentation indicates relationships of the items to one another. If something is indented more than the previous line, it is a sub-item of the top item that is less indented.</p><p>Example: Notice how both are indented underneath <code>ssh_authorized_keys</code>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#75715e>#cloud-config</span>
<span style=color:#f92672>ssh_authorized_keys</span>:
  - <span style=color:#ae81ff>ssh-rsa AAA...ZZZ example1@burmilla</span>
  - <span style=color:#ae81ff>ssh-rsa BBB...ZZZ example2@burmilla</span>
</code></pre></div><p>In our example above, we have our <code>#cloud-config</code> line to indicate it&rsquo;s a cloud-config file. We have 1 top-level property, <code>ssh_authorized_keys</code>. Its value is a list of public keys that are represented as a dashed list under <code>ssh_authorized_keys:</code>.</p><h2 id=manually-changing-configuration>Manually Changing Configuration
<a class=anchor href=#manually-changing-configuration>#</a></h2><p>To update BurmillaOS configuration after booting, the <code>ros config set &lt;key> &lt;value></code> command can be used.
For more complicated settings, like the
<a href=/docs/configuration/advanced/sysctl/>sysctl settings</a>, you can also create a small YAML file and then run <code>sudo ros config merge -i &lt;your yaml file></code>.</p><h3 id=getting-values>Getting Values
<a class=anchor href=#getting-values>#</a></h3><p>You can easily get any value that&rsquo;s been set in the <code>/var/lib/rancher/conf/cloud-config.yml</code> file. Let&rsquo;s see how easy it is to get the DNS configuration of the system.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ sudo ros config get rancher.network.dns.nameservers
- 8.8.8.8
- 8.8.4.4
</code></pre></div><h3 id=setting-values>Setting Values
<a class=anchor href=#setting-values>#</a></h3><p>You can set values in the <code>/var/lib/rancher/conf/cloud-config.yml</code> file.</p><p>Setting a simple value in the <code>/var/lib/rancher/conf/cloud-config.yml</code></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ sudo ros config set rancher.docker.tls true
</code></pre></div><p>Setting a list in the <code>/var/lib/rancher/conf/cloud-config.yml</code></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ sudo ros config set rancher.network.dns.nameservers <span style=color:#e6db74>&#34;[&#39;8.8.8.8&#39;,&#39;8.8.4.4&#39;]&#34;</span>
</code></pre></div><h3 id=exporting-the-current-configuration>Exporting the Current Configuration
<a class=anchor href=#exporting-the-current-configuration>#</a></h3><p>To output and review the current configuration state you can use the <code>ros config export</code> command.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ sudo ros config export
rancher:
  docker:
    tls: true
  network:
    dns:
      nameservers:
      - 8.8.8.8
      - 8.8.4.4
</code></pre></div><h3 id=validating-a-configuration-file>Validating a Configuration File
<a class=anchor href=#validating-a-configuration-file>#</a></h3><p>To validate a configuration file you can use the <code>ros config validate</code> command.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ sudo ros config validate -i cloud-config.yml
</code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/burmilla/burmilla.github.io/commit/d1f8103458f8d8797699dad433c52d714e54f731 title="Last modified by Basil Peace | November 2, 2024" target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>November 2, 2024</span></a></div></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#cloud-config>Cloud-Config</a></li><li><a href=#manually-changing-configuration>Manually Changing Configuration</a><ul><li><a href=#getting-values>Getting Values</a></li><li><a href=#setting-values>Setting Values</a></li><li><a href=#exporting-the-current-configuration>Exporting the Current Configuration</a></li><li><a href=#validating-a-configuration-file>Validating a Configuration File</a></li></ul></li></ul></nav></aside></main></body></html>