<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="How to update microcode #  Processor manufacturers release stability and security updates to the processor microcode. While microcode can be updated through the BIOS, the Linux kernel is also able to apply these updates. These updates provide bug fixes that can be critical to the stability of your system. Without these updates, you may experience spurious crashes or unexpected system halts that can be difficult to track down.
The microcode loader supports three loading methods:"><meta name=theme-color content="#FFFFFF"><meta property="og:title" content><meta property="og:description" content="How to update microcode #  Processor manufacturers release stability and security updates to the processor microcode. While microcode can be updated through the BIOS, the Linux kernel is also able to apply these updates. These updates provide bug fixes that can be critical to the stability of your system. Without these updates, you may experience spurious crashes or unexpected system halts that can be difficult to track down.
The microcode loader supports three loading methods:"><meta property="og:type" content="article"><meta property="og:url" content="https://burmillaos.org/docs/configuration/advanced/microcode-loader/"><meta property="article:modified_time" content="2024-11-03T00:21:50+03:00"><title>Microcode Loader | BurmillaOS</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.6cd8553a6854f4812343f0f0c8baca31271e686434f381fbe3c7226f66639176.css integrity="sha256-bNhVOmhU9IEjQ/DwyLrKMSceaGQ084H748cib2ZjkXY="><script defer src=/en.search.min.5b67b5953e3b2a171b6b51a22a8ef1216b6eae9a8f77e6e93869f90463a51473.js integrity="sha256-W2e1lT47Khcba1GiKo7xIWturpqPd+bpOGn5BGOlFHM="></script><script defer src=/sw.min.74a8bb07f0bee86d6bb9a2750f073f14d93c7e4512f28860370cfd879e9719b4.js integrity="sha256-dKi7B/C+6G1ruaJ1Dwc/FNk8fkUS8ohgNwz9h56XGbQ="></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><span>BurmillaOS</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/docs/quick-start-guide/>Quick Start Guide</a></li><li><a href=/docs/installation/ class=collapsed>Installation</a></li><li><a href=/docs/configuration/ class=collapsed>Configuration</a><ul><li><a href=/docs/configuration/advanced/ class=collapsed>Advanced</a><ul><li><a href=/docs/configuration/advanced/disable-access-to-system/>Disabling Access to BurmillaOS</a></li><li><a href=/docs/configuration/advanced/resizing-device-partition/>Resizing a Device Partition</a></li><li><a href=/docs/configuration/advanced/running-commands/>Running Commands</a></li><li><a href=/docs/configuration/advanced/sysctl/>Sysctl Settings</a></li><li><a href=/docs/configuration/advanced/write-files/>Writing Files</a></li><li><a href=/docs/configuration/advanced/microcode-loader/ class=active>Microcode Loader</a></li><li><a href=/docs/configuration/advanced/airgap-configuration/>Airgap Configuration</a></li></ul></li><li><a href=/docs/configuration/base/ class=collapsed>Base</a></li><li><a href=/docs/configuration/docker/ class=collapsed>Docker and System Docker</a></li><li><a href=/docs/configuration/kernel/ class=collapsed>Kernel</a></li></ul></li><li><a href=/docs/networking/ class=collapsed>Networking</a></li><li><a href=/docs/storage/ class=collapsed>Storage</a></li><li><a href=/docs/system-services/ class=collapsed>System Services</a></li><li><a href=/docs/additional-resources/ class=collapsed>Aditional Resources</a></li><li><a href=/docs/faqs/>FAQs</a></li><li><a href=/docs/releases/>Releases</a></li><li><a href=/docs/reference/>Reference</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Microcode Loader</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents></nav></aside></header><article class=markdown><h1 id=how-to-update-microcode>How to update microcode
<a class=anchor href=#how-to-update-microcode>#</a></h1><p>Processor manufacturers release stability and security updates to the processor microcode. While microcode can be updated through the BIOS, the Linux kernel is also able to apply these updates.
These updates provide bug fixes that can be critical to the stability of your system. Without these updates, you may experience spurious crashes or unexpected system halts that can be difficult to track down.</p><p>The microcode loader supports three loading methods:</p><ul><li>Early load microcode</li><li>Late loading</li><li>Builtin microcode</li></ul><p>You can get more details from
<a href=https://www.kernel.org/doc/html/latest/x86/microcode.html>here</a>.</p><p>BurmillaOS supports <code>Late loading</code>. To update the Intel microcode, get the latest Intel microcode. An example is
<a href="https://downloadcenter.intel.com/download/28087/Linux-Processor-Microcode-Data-File?v=t">here</a>. Then copy the data files to the firmware directory:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>mkdir -p /lib/firmware/intel-ucode/
cp -v intel-ucode/* /lib/firmware/intel-ucode/
</code></pre></div><p>Reload the microcode. This file does not exist if you are running BurmillaOS on the hypervisor. Usually, the VM does not need to update the microcode.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>echo <span style=color:#ae81ff>1</span> &gt; /sys/devices/system/cpu/microcode/reload
</code></pre></div><p>Check the result:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>dmesg | grep microcode
<span style=color:#f92672>[</span>   13.659429<span style=color:#f92672>]</span> microcode: sig<span style=color:#f92672>=</span>0x306f2, pf<span style=color:#f92672>=</span>0x1, revision<span style=color:#f92672>=</span>0x36
<span style=color:#f92672>[</span>   13.665981<span style=color:#f92672>]</span> microcode: Microcode Update Driver: v2.01 &lt;tigran@aivazian.fsnet.co.uk&gt;, Peter Oruba
<span style=color:#f92672>[</span>  510.899733<span style=color:#f92672>]</span> microcode: updated to revision 0x3b, date <span style=color:#f92672>=</span> 2017-11-17
</code></pre></div><p>You can use <code>runcmd</code> to reload the microcode every boot:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#f92672>runcmd</span>:
- <span style=color:#ae81ff>echo 1 &gt; /sys/devices/system/cpu/microcode/reload</span>
</code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/burmilla/burmilla.github.io/commit/d1f8103458f8d8797699dad433c52d714e54f731 title="Last modified by Basil Peace | November 2, 2024" target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>November 2, 2024</span></a></div></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents></nav></aside></main></body></html>