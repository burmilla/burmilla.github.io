<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Writing Files #  You can automate writing files to disk using the write_files cloud-config directive.
#cloud-config write_files: - path: /etc/rc.local permissions: &#34;0755&#34; owner: root content: |#!/bin/bash echo &#34;I'm doing things on start&#34; Writing Files in Specific System Services #  By default, the write_files directive will create files in the console container. To write files in other system services, the container key can be used. For example, the container key could be used to write to /etc/ntp."><meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Writing Files"><meta property="og:description" content="Writing Files #  You can automate writing files to disk using the write_files cloud-config directive.
#cloud-config write_files: - path: /etc/rc.local permissions: &#34;0755&#34; owner: root content: |#!/bin/bash echo &#34;I'm doing things on start&#34; Writing Files in Specific System Services #  By default, the write_files directive will create files in the console container. To write files in other system services, the container key can be used. For example, the container key could be used to write to /etc/ntp."><meta property="og:type" content="article"><meta property="og:url" content="https://burmillaos.org/docs/configuration/advanced/write-files/"><meta property="article:modified_time" content="2024-11-03T00:21:50+03:00"><title>Writing Files | BurmillaOS</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.6cd8553a6854f4812343f0f0c8baca31271e686434f381fbe3c7226f66639176.css integrity="sha256-bNhVOmhU9IEjQ/DwyLrKMSceaGQ084H748cib2ZjkXY="><script defer src=/en.search.min.5b67b5953e3b2a171b6b51a22a8ef1216b6eae9a8f77e6e93869f90463a51473.js integrity="sha256-W2e1lT47Khcba1GiKo7xIWturpqPd+bpOGn5BGOlFHM="></script><script defer src=/sw.min.74a8bb07f0bee86d6bb9a2750f073f14d93c7e4512f28860370cfd879e9719b4.js integrity="sha256-dKi7B/C+6G1ruaJ1Dwc/FNk8fkUS8ohgNwz9h56XGbQ="></script></head><body><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><span>BurmillaOS</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/docs/quick-start-guide/>Quick Start Guide</a></li><li><a href=/docs/installation/ class=collapsed>Installation</a></li><li><a href=/docs/configuration/ class=collapsed>Configuration</a><ul><li><a href=/docs/configuration/advanced/ class=collapsed>Advanced</a><ul><li><a href=/docs/configuration/advanced/disable-access-to-system/>Disabling Access to BurmillaOS</a></li><li><a href=/docs/configuration/advanced/resizing-device-partition/>Resizing a Device Partition</a></li><li><a href=/docs/configuration/advanced/running-commands/>Running Commands</a></li><li><a href=/docs/configuration/advanced/sysctl/>Sysctl Settings</a></li><li><a href=/docs/configuration/advanced/write-files/ class=active>Writing Files</a></li><li><a href=/docs/configuration/advanced/microcode-loader/>Microcode Loader</a></li><li><a href=/docs/configuration/advanced/airgap-configuration/>Airgap Configuration</a></li></ul></li><li><a href=/docs/configuration/base/ class=collapsed>Base</a></li><li><a href=/docs/configuration/docker/ class=collapsed>Docker and System Docker</a></li><li><a href=/docs/configuration/kernel/ class=collapsed>Kernel</a></li></ul></li><li><a href=/docs/networking/ class=collapsed>Networking</a></li><li><a href=/docs/storage/ class=collapsed>Storage</a></li><li><a href=/docs/system-services/ class=collapsed>System Services</a></li><li><a href=/docs/additional-resources/ class=collapsed>Aditional Resources</a></li><li><a href=/docs/faqs/>FAQs</a></li><li><a href=/docs/releases/>Releases</a></li><li><a href=/docs/reference/>Reference</a></li></ul></nav><script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Writing Files</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#writing-files-in-specific-system-services>Writing Files in Specific System Services</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=writing-files>Writing Files
<a class=anchor href=#writing-files>#</a></h1><p>You can automate writing files to disk using the <code>write_files</code> cloud-config directive.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#75715e>#cloud-config</span>
<span style=color:#f92672>write_files</span>:
  - <span style=color:#f92672>path</span>: <span style=color:#ae81ff>/etc/rc.local</span>
    <span style=color:#f92672>permissions</span>: <span style=color:#e6db74>&#34;0755&#34;</span>
    <span style=color:#f92672>owner</span>: <span style=color:#ae81ff>root</span>
    <span style=color:#f92672>content</span>: |<span style=color:#e6db74>
</span><span style=color:#e6db74>      #!/bin/bash
</span><span style=color:#e6db74>      echo &#34;I&#39;m doing things on start&#34;</span>      
</code></pre></div><h3 id=writing-files-in-specific-system-services>Writing Files in Specific System Services
<a class=anchor href=#writing-files-in-specific-system-services>#</a></h3><p>By default, the <code>write_files</code> directive will create files in the console container. To write files in other system services, the <code>container</code> key can be used. For example, the <code>container</code> key could be used to write to <code>/etc/ntp.conf</code> in the NTP system service.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#75715e>#cloud-config</span>
<span style=color:#f92672>write_files</span>:
  - <span style=color:#f92672>container</span>: <span style=color:#ae81ff>ntp</span>
    <span style=color:#f92672>path</span>: <span style=color:#ae81ff>/etc/ntp.conf</span>
    <span style=color:#f92672>permissions</span>: <span style=color:#e6db74>&#34;0644&#34;</span>
    <span style=color:#f92672>owner</span>: <span style=color:#ae81ff>root</span>
    <span style=color:#f92672>content</span>: |<span style=color:#e6db74>
</span><span style=color:#e6db74>      server 0.pool.ntp.org iburst
</span><span style=color:#e6db74>      server 1.pool.ntp.org iburst
</span><span style=color:#e6db74>      server 2.pool.ntp.org iburst
</span><span style=color:#e6db74>      server 3.pool.ntp.org iburst
</span><span style=color:#e6db74>
</span><span style=color:#e6db74>      # Allow only time queries, at a limited rate, sending KoD when in excess.
</span><span style=color:#e6db74>      # Allow all local queries (IPv4, IPv6)
</span><span style=color:#e6db74>      restrict default nomodify nopeer noquery limited kod
</span><span style=color:#e6db74>      restrict 127.0.0.1
</span><span style=color:#e6db74>      restrict [::1]</span>      
</code></pre></div><blockquote><p><strong>Note:</strong> Currently, writing files to a specific system service is only supported for BurmillaOS&rsquo;s built-in services. You are unable to write files to any custom system services.</p></blockquote></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/burmilla/burmilla.github.io/commit/d1f8103458f8d8797699dad433c52d714e54f731 title="Last modified by Basil Peace | November 2, 2024" target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>November 2, 2024</span></a></div></div></footer><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><ul><li><a href=#writing-files-in-specific-system-services>Writing Files in Specific System Services</a></li></ul></li></ul></nav></aside></main></body></html>